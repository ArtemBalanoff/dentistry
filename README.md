### Описание проекта:

Данное приложение позволяет пользователям:

* Просматривать произведения, представленные на сайте
* Оставлять под произведениями отзывы с оценкой от 1 до 10
* Оставлять комментарии под отзывами

Особенности:
* Пользователь может иметь одну из трех ролей:
`user`  `moderator`  `admin`
* Произведения может добавлять только персонал
* Аноним имеет только права на просмотр произведений, отзывов и комментарий
* Модератор может редактировать любые отзывы и комментарии
* Админ может создавать и редактировать пользователей
* Суперпользователь имеет все права админа

Ограничения:

* Пользователи могут редактировать только свой контент (отзывы, комментарии)
* К одному произведению можно оставить только один отзыв

### Stack
* Python;
* Django-Rest-Framework;
* Git;
* SQLite;
* SimpleJWT;
* Reedoc/Swagger;
* Flake8;

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:ArtemBalanoff/api_yamdb.git
```

```
cd git@github.com:ArtemBalanoff/api_yamdb.git
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

```
source venv/bin/activate
```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python3 manage.py migrate
```

Запустить проект:

```
python3 manage.py runserver
```
Установить данные из фикстур csv:
```
python3 manage.py import_csv --loadcsv /path/core
```
### Документация с подробным описанием: 
```
/redoc/
```


### Регистрация пользователей:

Для самостоятельной регистрации пользователю необходимо выполнить следующие действия:

* Отправить POST-запрос с параметрами email и username на эндпоинт:

```
api/v1/auth/signup/
```
После этого на указанный email придет письмо с кодом подтверждения.

* Отправить POST-запрос с параметрами email и полученным кодом подтверждения на эндпоинт:
```
/api/v1/auth/token/
```
В ответе на запрос ему придёт token (JWT-токен). В результате пользователь получает токен и может работать с API проекта, отправляя этот токен с каждым запросом.

### Примеры некоторых endpoint'ов:

#### Работа с пользователями:

`GET` - *Получение списка всех пользователей*
`POST` - *Добавление пользователя*

```
api/v1/users/
```

`GET` - *Получение информации о пользователе по username*
`PATCH` - *Частичное обновление информации о пользователе по username*
`DELETE` - *Удаление пользователя по username*

```
api/v1/users/{username}/
```

`GET` - *Получение данных своей учётной записи*
`PATCH` - *Изменение данных своей учетной записи*

```
api/v1/users/me/
```

#### Работа с произведениями:

```
api/v1/categories/
```

`GET` - *Получение списка всех категорий*
`POST` - *Добавление новой категории*

```
api/v1/categories/{slug}/
```

`DELETE` - *Удаление категории*

```
api/v1/genres/
```

`GET` - *Получение списка всех жанров*
`POST` - *Добавление жанра*

```
api/v1/genres/{slug}/
```

`DELETE` - *Удаление жанра*

```
api/v1/titles/?category=slug&genre=slug&name=name&year=0
```

`GET` - *Получение списка всех произведений*
`POST` - *Добавление произведения*

```
api/v1/titles/{titles_id}/
```

`GET` - *Получение информации о произведении*
`PATCH` - *Частичное обновление информации о произведении*
`DELETE` - *Удаление произведения*

```
api/v1/titles/{title_id}/reviews/
```

`GET` - *Получение списка всех отзывов*
`POST` - *Добавление нового отзыва*

```
api/v1/titles/{title_id}/reviews/{review_id}/
```

`GET` - *Получение отзыва по id*
`PATCH` - *Частичное обновление отзыва по id*
`DELETE` - *Удаление отзыва по id*

```
api/v1/titles/{title_id}/reviews/{review_id}/comments/
```

`GET` - *Получение списка всех комментариев к отзыву*
`POST` - *Добавление комментария к отзыву*

```
api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
```

`GET` - *Получение комментария к отзыву*
`PATCH` - *Частичное обновление комментария к отзыву*
`DELETE` - *Удаление комментария к отзыву*

## Авторы проекта:
* Владимир Шваб
* Артем Баланов
* Владислав Глинка 


# get_available_days:
- клиника должна работать в этот день
- клиника должна работать в это время
- доктор должен работать в этот день
- доктор должен работать в это время
- не должно быть исключения в этот день у доктора
- не должно быть исключения в этот день у клиники

- услуги должны быть от одного специалиста
- временные слоты должны быть:
    - по продолжительности равны услугам
    - последовательны
    - свободны
- 